{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Stoleron/source/repos/SYSMCLTDR/SYSMCLTDR/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction CustomersListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nconst _c0 = function (a1) {\n  return [\"/customer-detail\", a1];\n};\n\nfunction CustomersListComponent_table_12_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"a\", 6);\n    i0.ɵɵtext(7, \"View Details\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\")(9, \"button\");\n    i0.ɵɵtext(10, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\");\n    i0.ɵɵtext(12, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const customer_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r3.customerNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(3, _c0, customer_r3.customerNumber));\n  }\n}\n\nfunction CustomersListComponent_table_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\")(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Customer Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, CustomersListComponent_table_12_tr_10_Template, 13, 5, \"tr\", 5);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.customers);\n  }\n}\n\nexport class CustomersListComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.customers = [];\n    this.loading = false;\n    this.newCustomer = {\n      Name: '',\n      CustomerNumber: ''\n    };\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.loading = true;\n\n      try {\n        const data = yield _this.http.get('https://localhost:7245/Customers/').toPromise();\n        _this.customers = data ? data : [];\n        console.log('this.customers', _this.customers);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        _this.loading = false;\n      }\n    })();\n  }\n\n  addCustomer() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this2.http.post('https://localhost:7245/Customers/', _this2.newCustomer).toPromise();\n        console.log('Customer added successfully');\n      } catch (error) {\n        console.error(error);\n      } finally {\n        // Reset the form\n        _this2.newCustomer = {\n          Name: '',\n          CustomerNumber: ''\n        };\n      }\n    })();\n  }\n\n}\n\nCustomersListComponent.ɵfac = function CustomersListComponent_Factory(t) {\n  return new (t || CustomersListComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nCustomersListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CustomersListComponent,\n  selectors: [[\"app-customers-list\"]],\n  decls: 13,\n  vars: 4,\n  consts: [[4, \"ngIf\"], [3, \"ngSubmit\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"customerNumber\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"], [4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\"]],\n  template: function CustomersListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CustomersListComponent_div_0_Template, 1, 0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function CustomersListComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.addCustomer();\n      });\n      i0.ɵɵelementStart(2, \"div\")(3, \"label\");\n      i0.ɵɵtext(4, \"Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function CustomersListComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.newCustomer.Name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\")(7, \"label\");\n      i0.ɵɵtext(8, \"Customer Number:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function CustomersListComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.newCustomer.CustomerNumber = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"button\", 4);\n      i0.ɵɵtext(11, \"Add Customer\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(12, CustomersListComponent_table_12_Template, 11, 1, \"table\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.newCustomer.Name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.newCustomer.CustomerNumber);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i2.RouterLinkWithHref],\n  styles: [\"table[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  border-collapse: collapse;\\r\\n}\\r\\n\\r\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\r\\n  border: 1px solid #dddddd;\\r\\n  padding: 8px;\\r\\n  text-align: left;\\r\\n}\\r\\n\\r\\nth[_ngcontent-%COMP%] {\\r\\n  background-color: #f2f2f2;\\r\\n}\\r\\n\\r\\ntr[_ngcontent-%COMP%]:nth-child(even) {\\r\\n  background-color: #f2f2f2;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVycy1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0VBQ1gseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0IiLCJmaWxlIjoiY3VzdG9tZXJzLWxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG59XHJcblxyXG50aCwgdGQge1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZGRkZGQ7XHJcbiAgcGFkZGluZzogOHB4O1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbn1cclxuXHJcbnRoIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xyXG59XHJcblxyXG50cjpudGgtY2hpbGQoZXZlbikge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7XHJcbn1cclxuIl19 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IACAA;;;;;;;;;;IAyBIA,2BAAuC,CAAvC,EAAuC,IAAvC;IACMA;IAAmBA;IACvBA;IAAIA;IAA6BA;IACjCA,2BAAI,CAAJ,EAAI,GAAJ,EAAI,CAAJ;IAAoEA;IAAYA;IAChFA,2BAAI,CAAJ,EAAI,QAAJ;IAAYA;IAAIA;IAASA;IAAQA;IAAMA;;;;;IAHnCA;IAAAA;IACAA;IAAAA;IACGA;IAAAA;;;;;;IAbbA,8BAAwB,CAAxB,EAAwB,OAAxB,EAAwB,CAAxB,EAAwB,IAAxB,EAAwB,CAAxB,EAAwB,IAAxB;IAIUA;IAAIA;IACRA;IAAIA;IAAeA;IACnBA;IAAIA;IAAOA;IAGfA;IACEA;IAMFA;;;;;IAN2BA;IAAAA;;;;ACjB7B,OAAM,MAAOC,sBAAP,CAA6B;EAKjCC,YAAoBC,IAApB,EAA8CC,MAA9C,EAA4D;IAAxC;IAA0B;IAJ9C,iBAAmB,EAAnB;IACA,eAAU,KAAV;IACA,mBAAc;MAAEC,IAAI,EAAE,EAAR;MAAYC,cAAc,EAAE;IAA5B,CAAd;EAEiE;;EAE3DC,QAAQ;IAAA;;IAAA;MACZ,KAAI,CAACC,OAAL,GAAe,IAAf;;MACA,IAAI;QACF,MAAMC,IAAI,SAAS,KAAI,CAACN,IAAL,CAAUO,GAAV,CAAqB,mCAArB,EAA0DC,SAA1D,EAAnB;QACA,KAAI,CAACC,SAAL,GAAiBH,IAAI,GAAGA,IAAH,GAAU,EAA/B;QACAI,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAI,CAACF,SAAnC;MACD,CAJD,CAIE,OAAOG,KAAP,EAAc;QACdF,OAAO,CAACE,KAAR,CAAcA,KAAd;MACD,CAND,SAMU;QACR,KAAI,CAACP,OAAL,GAAe,KAAf;MACD;IAVW;EAWb;;EAEKQ,WAAW;IAAA;;IAAA;MACf,IAAI;QACF,MAAM,MAAI,CAACb,IAAL,CAAUc,IAAV,CAAe,mCAAf,EAAoD,MAAI,CAACC,WAAzD,EAAsEP,SAAtE,EAAN;QACAE,OAAO,CAACC,GAAR,CAAY,6BAAZ;MACD,CAHD,CAGE,OAAOC,KAAP,EAAc;QACdF,OAAO,CAACE,KAAR,CAAcA,KAAd;MACD,CALD,SAKU;QACR;QACA,MAAI,CAACG,WAAL,GAAmB;UAAEb,IAAI,EAAE,EAAR;UAAYC,cAAc,EAAE;QAA5B,CAAnB;MACD;IATc;EAUhB;;AA9BgC;;;mBAAtBL,wBAAsBD;AAAA;;;QAAtBC;EAAsBkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDRnCvB;MAGAA;MAAMA;QAAA,OAAYwB,iBAAZ;MAAyB,CAAzB;MACJxB,4BAAK,CAAL,EAAK,OAAL;MACSA;MAAKA;MACZA;MAAmBA;QAAA;MAAA;MAAnBA;MAEFA,4BAAK,CAAL,EAAK,OAAL;MACSA;MAAgBA;MACvBA;MAAmBA;QAAA;MAAA;MAAnBA;MAEFA;MAAsBA;MAAYA;MAGpCA;;;;MAfMA;MAMiBA;MAAAA;MAIAA;MAAAA;MAKfA;MAAAA","names":["i0","CustomersListComponent","constructor","http","router","Name","CustomerNumber","ngOnInit","loading","data","get","toPromise","customers","console","log","error","addCustomer","post","newCustomer","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Stoleron\\source\\repos\\SYSMCLTDR\\SYSMCLTDR\\ClientApp\\src\\app\\customers-list\\customers-list.component.html","C:\\Users\\Stoleron\\source\\repos\\SYSMCLTDR\\SYSMCLTDR\\ClientApp\\src\\app\\customers-list\\customers-list.component.ts"],"sourcesContent":["\n<div *ngIf=\"loading\">\n  <!--<mat-spinner></mat-spinner>-->\n</div>\n<form (ngSubmit)=\"addCustomer()\">\n  <div>\n    <label>Name:</label>\n    <input type=\"text\" [(ngModel)]=\"newCustomer.Name\" name=\"name\" required>\n  </div>\n  <div>\n    <label>Customer Number:</label>\n    <input type=\"text\" [(ngModel)]=\"newCustomer.CustomerNumber\" name=\"customerNumber\" required>\n  </div>\n  <button type=\"submit\">Add Customer</button>\n</form>\n\n<table *ngIf=\"!loading\">\n\n  <thead>\n    <tr>\n      <th>Name</th>\n      <th>Customer Number</th>\n      <th>Actions</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let customer of customers\">\n      <td>{{ customer.name }}</td>\n      <td>{{ customer.customerNumber }}</td>\n      <td><a [routerLink]=\"['/customer-detail', customer.customerNumber]\">View Details</a></td>\n      <td><button>Edit</button><button>Delete</button></td>\n    </tr>\n  </tbody>\n</table>\n","import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-customers-list',\r\n  templateUrl: './customers-list.component.html',\r\n  styleUrls: ['./customers-list.component.css']\r\n})\r\nexport class CustomersListComponent implements OnInit {\r\n  customers: any[] = [];\r\n  loading = false;\r\n  newCustomer = { Name: '', CustomerNumber: '' };\r\n\r\n  constructor(private http: HttpClient, private router: Router) { }\r\n\r\n  async ngOnInit() {\r\n    this.loading = true;\r\n    try {\r\n      const data = await this.http.get<any[]>('https://localhost:7245/Customers/').toPromise();\r\n      this.customers = data ? data : [];\r\n      console.log('this.customers', this.customers);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n\r\n  async addCustomer() {\r\n    try {\r\n      await this.http.post('https://localhost:7245/Customers/', this.newCustomer).toPromise();\r\n      console.log('Customer added successfully');\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      // Reset the form\r\n      this.newCustomer = { Name: '', CustomerNumber: '' };\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}