{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Stoleron/source/repos/SYSMCLTDR/SYSMCLTDR/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\n\nfunction CustomersListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nfunction CustomersListComponent_table_3_tr_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const customer_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r3.Name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r3.CustomerNumber);\n  }\n}\n\nfunction CustomersListComponent_table_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\")(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Customer Number\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"tbody\");\n    i0.ɵɵtemplate(8, CustomersListComponent_table_3_tr_8_Template, 5, 2, \"tr\", 1);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.customers);\n  }\n}\n\nexport class CustomersListComponent {\n  constructor(http) {\n    this.http = http;\n    this.customers = [];\n    this.loading = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.loadCustomers();\n      console.log(\"customers\", _this.customers);\n    })();\n  }\n\n  loadCustomers() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.loading = true;\n      yield _this2.http.get('https://localhost:7245/Customers/').subscribe(data => {\n        _this2.customers = data;\n        _this2.loading = false;\n      }, error => {\n        console.error(error);\n        _this2.loading = false;\n      });\n    })();\n  }\n\n}\n\nCustomersListComponent.ɵfac = function CustomersListComponent_Factory(t) {\n  return new (t || CustomersListComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\n\nCustomersListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CustomersListComponent,\n  selectors: [[\"app-customers-list\"]],\n  decls: 4,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function CustomersListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"customers-list works!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, CustomersListComponent_div_2_Template, 1, 0, \"div\", 0);\n      i0.ɵɵtemplate(3, CustomersListComponent_table_3_Template, 9, 1, \"table\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjdXN0b21lcnMtbGlzdC5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;IACAA;;;;;;IAYIA,2BAAuC,CAAvC,EAAuC,IAAvC;IACMA;IAAmBA;IACvBA;IAAIA;IAA6BA;;;;;IAD7BA;IAAAA;IACAA;IAAAA;;;;;;IAXVA,8BAAwB,CAAxB,EAAwB,OAAxB,EAAwB,CAAxB,EAAwB,IAAxB,EAAwB,CAAxB,EAAwB,IAAxB;IAIUA;IAAIA;IACRA;IAAIA;IAAeA;IAGvBA;IACEA;IAIFA;;;;;IAJ2BA;IAAAA;;;;ACJ7B,OAAM,MAAOC,sBAAP,CAA6B;EAIjCC,YAAoBC,IAApB,EAAoC;IAAhB;IAHpB,iBAAmB,EAAnB;IACA,eAAU,KAAV;EAEyC;;EAEnCC,QAAQ;IAAA;;IAAA;MACZ,MAAM,KAAI,CAACC,aAAL,EAAN;MACAC,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAI,CAACC,SAA9B;IAFY;EAGb;;EAEKH,aAAa;IAAA;;IAAA;MACjB,MAAI,CAACI,OAAL,GAAe,IAAf;MACA,MAAM,MAAI,CAACN,IAAL,CAAUO,GAAV,CAA0B,mCAA1B,EAA+DC,SAA/D,CACJC,IAAI,IAAG;QAEL,MAAI,CAACJ,SAAL,GAAiBI,IAAjB;QACA,MAAI,CAACH,OAAL,GAAe,KAAf;MACD,CALG,EAMJI,KAAK,IAAG;QACNP,OAAO,CAACO,KAAR,CAAcA,KAAd;QACA,MAAI,CAACJ,OAAL,GAAe,KAAf;MACD,CATG,CAAN;IAFiB;EAelB;;AA1BgC;;;mBAAtBR,wBAAsBD;AAAA;;;QAAtBC;EAAsBa;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDTnClB;MAAGA;MAAqBA;MACxBA;MAGAA;;;;MAHMA;MAAAA;MAGEA;MAAAA","names":["i0","CustomersListComponent","constructor","http","ngOnInit","loadCustomers","console","log","customers","loading","get","subscribe","data","error","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Stoleron\\source\\repos\\SYSMCLTDR\\SYSMCLTDR\\ClientApp\\src\\app\\customers-list\\customers-list.component.html","C:\\Users\\Stoleron\\source\\repos\\SYSMCLTDR\\SYSMCLTDR\\ClientApp\\src\\app\\customers-list\\customers-list.component.ts"],"sourcesContent":["<p>customers-list works!</p>\n<div *ngIf=\"loading\">\n  <!--<mat-spinner></mat-spinner>-->\n</div>\n<table *ngIf=\"!loading\">\n\n  <thead>\n    <tr>\n      <th>Name</th>\n      <th>Customer Number</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let customer of customers\">\n      <td>{{ customer.Name }}</td>\n      <td>{{ customer.CustomerNumber }}</td>\n    </tr>\n  </tbody>\n</table>\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { tap } from 'rxjs';\r\n\n@Component({\n  selector: 'app-customers-list',\n  templateUrl: './customers-list.component.html',\n  styleUrls: ['./customers-list.component.css']\n})\nexport class CustomersListComponent implements OnInit {\n  customers: any[] = [];\n  loading = false;\n\n  constructor(private http: HttpClient) { }\n\n  async ngOnInit() {\n    await this.loadCustomers();\n    console.log(\"customers\", this.customers);\n  }\n\n  async loadCustomers() {\n    this.loading = true;\n    await this.http.get<Array<any>>('https://localhost:7245/Customers/').subscribe(\r\n      data => {\r\n\r\n        this.customers = data;\r\n        this.loading = false;\r\n      },\r\n      error => {\r\n        console.error(error);\r\n        this.loading = false;\r\n      }\r\n    );\n\n \n  }\n}\n"]},"metadata":{},"sourceType":"module"}