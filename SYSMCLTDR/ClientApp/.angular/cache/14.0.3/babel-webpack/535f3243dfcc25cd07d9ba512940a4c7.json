{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Stoleron/source/repos/SYSMCLTDR/SYSMCLTDR/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/CustomersService\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\n\nfunction CustomersListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nfunction CustomersListComponent_form_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 4);\n    i0.ɵɵlistener(\"ngSubmit\", function CustomersListComponent_form_5_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.addCustomer());\n    });\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementStart(3, \"label\");\n    i0.ɵɵtext(4, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function CustomersListComponent_form_5_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.newCustomer.Name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementStart(7, \"div\")(8, \"label\");\n    i0.ɵɵtext(9, \"Customer Number:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function CustomersListComponent_form_5_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.newCustomer.CustomerNumber = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵelementStart(12, \"button\", 7);\n    i0.ɵɵtext(13, \"Add Customer\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newCustomer.Name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newCustomer.CustomerNumber);\n  }\n}\n\nfunction CustomersListComponent_table_6_tr_10_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function CustomersListComponent_table_6_tr_10_div_2_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const customer_r8 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(customer_r8.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function CustomersListComponent_table_6_tr_10_div_2_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const customer_r8 = i0.ɵɵnextContext().$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.updateCustomer(customer_r8.customerNumber, customer_r8.name));\n    });\n    i0.ɵɵtext(3, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function CustomersListComponent_table_6_tr_10_div_2_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r17 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r17.cancelEditing());\n    });\n    i0.ɵɵtext(5, \"Cancel\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const customer_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", customer_r8.name);\n  }\n}\n\nconst _c0 = function (a1) {\n  return [\"/customer-detail\", a1];\n};\n\nfunction CustomersListComponent_table_6_tr_10_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 11);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const customer_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c0, customer_r8.customerNumber));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(customer_r8.name);\n  }\n}\n\nfunction CustomersListComponent_table_6_tr_10_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function CustomersListComponent_table_6_tr_10_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const customer_r8 = i0.ɵɵnextContext().$implicit;\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r20.editingId = customer_r8.id);\n    });\n    i0.ɵɵtext(1, \"Edit\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CustomersListComponent_table_6_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtemplate(2, CustomersListComponent_table_6_tr_10_div_2_Template, 6, 1, \"div\", 0);\n    i0.ɵɵtemplate(3, CustomersListComponent_table_6_tr_10_div_3_Template, 3, 4, \"div\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtemplate(7, CustomersListComponent_table_6_tr_10_button_7_Template, 2, 0, \"button\", 9);\n    i0.ɵɵelementStart(8, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function CustomersListComponent_table_6_tr_10_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const customer_r8 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.deleteCustomer(customer_r8.customerNumber));\n    });\n    i0.ɵɵtext(9, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const customer_r8 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.editingId === customer_r8.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.editingId !== customer_r8.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r8.customerNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.editingId !== customer_r8.id);\n  }\n}\n\nfunction CustomersListComponent_table_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\")(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Customer Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, CustomersListComponent_table_6_tr_10_Template, 10, 4, \"tr\", 8);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.customers);\n  }\n}\n\nexport class CustomersListComponent {\n  constructor(customersService) {\n    this.customersService = customersService;\n    this.customers = [];\n    this.loading = false;\n    this.newCustomer = {\n      Name: '',\n      CustomerNumber: ''\n    };\n    this.editingId = null;\n    this.showAddCustomer = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.loading = true;\n      _this.customers = yield _this.customersService.getCustomers();\n      _this.loading = false;\n    })();\n  }\n\n  addCustomer() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.customersService.addCustomer(_this2.newCustomer); // Reset the form\n\n      _this2.newCustomer = {\n        Name: '',\n        CustomerNumber: ''\n      };\n\n      _this2.ngOnInit();\n    })();\n  }\n\n  updateCustomer(customerNumber, name) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this3.customersService.updateCustomer(customerNumber, name).then(data => {\n        alert('Customer updated successfully');\n\n        _this3.cancelEditing();\n      }, error => {\n        alert('Error updating customer');\n\n        _this3.cancelEditing();\n      });\n    })();\n  }\n\n  deleteCustomer(customerNumber) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this4.customersService.deleteCustomer(customerNumber).then(data => {\n        alert('Customer deleted successfully');\n\n        _this4.cancelEditing();\n      }, error => {\n        alert('Error deleted customer');\n\n        _this4.cancelEditing();\n      });\n    })();\n  }\n\n  cancelEditing() {\n    this.editingId = null;\n  }\n\n}\n\nCustomersListComponent.ɵfac = function CustomersListComponent_Factory(t) {\n  return new (t || CustomersListComponent)(i0.ɵɵdirectiveInject(i1.CustomersService));\n};\n\nCustomersListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CustomersListComponent,\n  selectors: [[\"app-customers-list\"]],\n  decls: 7,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [1, \"add-customer-container\"], [3, \"click\"], [3, \"ngSubmit\", 4, \"ngIf\"], [3, \"ngSubmit\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"customerNumber\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\", 4, \"ngIf\"], [\"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [3, \"routerLink\"]],\n  template: function CustomersListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CustomersListComponent_div_0_Template, 1, 0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function CustomersListComponent_Template_button_click_2_listener() {\n        return ctx.showAddCustomer = !ctx.showAddCustomer;\n      });\n      i0.ɵɵtext(3, \"Add New Customer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"br\");\n      i0.ɵɵtemplate(5, CustomersListComponent_form_5_Template, 14, 2, \"form\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, CustomersListComponent_table_6_Template, 11, 1, \"table\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.showAddCustomer);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm, i4.RouterLinkWithHref],\n  styles: [\"table[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  border-collapse: collapse;\\r\\n\\r\\n}\\r\\n\\r\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\r\\n  border: 1px solid #dddddd;\\r\\n  padding: 8px;\\r\\n  text-align: center;\\r\\n\\r\\n}\\r\\n\\r\\nth[_ngcontent-%COMP%] {\\r\\n  background-color: #f2f2f2;\\r\\n}\\r\\n\\r\\ntr[_ngcontent-%COMP%]:nth-child(even) {\\r\\n  background-color: #f2f2f2;\\r\\n}\\r\\n\\r\\n.add-customer-container[_ngcontent-%COMP%] {\\r\\n  text-align: center;\\r\\n  margin-top: 30px;\\r\\n  margin-bottom: 30px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVycy1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0VBQ1gseUJBQXlCOztBQUUzQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osa0JBQWtCOztBQUVwQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsbUJBQW1CO0FBQ3JCIiwiZmlsZSI6ImN1c3RvbWVycy1saXN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZSB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxuXHJcbn1cclxuXHJcbnRoLCB0ZCB7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2RkZGRkZDtcclxuICBwYWRkaW5nOiA4cHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG5cclxufVxyXG5cclxudGgge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7XHJcbn1cclxuXHJcbnRyOm50aC1jaGlsZChldmVuKSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcclxufVxyXG5cclxuLmFkZC1jdXN0b21lci1jb250YWluZXIge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW4tdG9wOiAzMHB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbn1cclxuIl19 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","CustomersListComponent","constructor","customersService","Name","CustomerNumber","ngOnInit","loading","customers","getCustomers","addCustomer","newCustomer","updateCustomer","customerNumber","name","then","data","alert","cancelEditing","error","deleteCustomer","editingId","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Stoleron\\source\\repos\\SYSMCLTDR\\SYSMCLTDR\\ClientApp\\src\\app\\customers-list\\customers-list.component.html","C:\\Users\\Stoleron\\source\\repos\\SYSMCLTDR\\SYSMCLTDR\\ClientApp\\src\\app\\customers-list\\customers-list.component.ts"],"sourcesContent":["\n<div *ngIf=\"loading\">\n  <!--<mat-spinner></mat-spinner>-->\n</div>\n<div class=\"add-customer-container\">\n  \n  <button (click)=\"showAddCustomer = !showAddCustomer\">Add New Customer</button>\n  <br />\n  <form *ngIf=\"showAddCustomer\" (ngSubmit)=\"addCustomer()\">\n    <div>\n      <br />\n      <label>Name:</label>\n      <input type=\"text\" [(ngModel)]=\"newCustomer.Name\" name=\"name\" required>\n    </div>\n    <br />\n    <div>\n      <label>Customer Number:</label>\n      <input type=\"text\" [(ngModel)]=\"newCustomer.CustomerNumber\" name=\"customerNumber\" required>\n    </div>\n    <br />\n    <button type=\"submit\">Add Customer</button>\n  </form>\n</div>\n\n\n<table *ngIf=\"!loading\">\n\n  <thead>\n    <tr>\n      <th>Name</th>\n      <th>Customer Number</th>\n      <th>Actions</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let customer of customers\">\n      <td>\n        <div *ngIf=\"editingId === customer.id\">\n          <input type=\"text\" [(ngModel)]=\"customer.name\">\n          <button (click)=\"updateCustomer(customer.customerNumber, customer.name)\">Save</button>\n          <button (click)=\"cancelEditing()\">Cancel</button>\n        </div>\n        <div *ngIf=\"editingId !== customer.id\">\n          <a [routerLink]=\"['/customer-detail', customer.customerNumber]\">{{ customer.name }}</a>\n        </div>\n      </td>\n      \n      <td>{{ customer.customerNumber }}</td>\n      <td><button *ngIf=\"editingId !== customer.id\" (click)=\"editingId = customer.id\">Edit</button><button (click)=\"deleteCustomer(customer.customerNumber)\">Delete</button></td>\n    </tr>\n  </tbody>\n</table>\n","import { Component, OnInit } from '@angular/core';\r\nimport { CustomersService } from '../services/CustomersService';\r\n\r\n@Component({\r\n  selector: 'app-customers-list',\r\n  templateUrl: './customers-list.component.html',\r\n  styleUrls: ['./customers-list.component.css']\r\n})\r\nexport class CustomersListComponent implements OnInit {\r\n  customers?: any[] = [];\r\n  loading = false;\r\n  newCustomer = { Name: '', CustomerNumber: '' };\r\n  editingId = null;\r\n  showAddCustomer = false;\r\n\r\n  constructor(private customersService: CustomersService) { }\r\n\r\n  async ngOnInit() {\r\n    this.loading = true;\r\n    this.customers = await this.customersService.getCustomers();\r\n    this.loading = false;\r\n  }\r\n\r\n  async addCustomer() {\r\n    await this.customersService.addCustomer(this.newCustomer);\r\n    // Reset the form\r\n    this.newCustomer = { Name: '', CustomerNumber: '' };\r\n    this.ngOnInit();\r\n  }\r\n\r\n \r\n\r\n  async updateCustomer(customerNumber: any, name: any) {\r\n    await this.customersService.updateCustomer(customerNumber, name).then(\r\n      data => {\r\n        alert('Customer updated successfully');\r\n        this.cancelEditing();\r\n      },\r\n      error => {\r\n        alert('Error updating customer');\r\n        this.cancelEditing();\r\n      }\r\n    );\r\n  }\r\n\r\n  async deleteCustomer(customerNumber: any) {\r\n    await this.customersService.deleteCustomer(customerNumber).then(\r\n      data => {\r\n        alert('Customer deleted successfully');\r\n        this.cancelEditing();\r\n      },\r\n      error => {\r\n        alert('Error deleted customer');\r\n        this.cancelEditing();\r\n      }\r\n    );\r\n  }\r\n\r\n  cancelEditing() {\r\n    this.editingId = null;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}