{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Stoleron/source/repos/SYSMCLTDR/SYSMCLTDR/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction CustomerDetailsComponent_div_0_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const address_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\"\", address_r3.Street, \" \", address_r3.City, \" \", address_r3.Zipcode, \"\");\n  }\n}\n\nfunction CustomerDetailsComponent_div_0_li_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const contact_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", contact_r4.Name, \" - \", contact_r4.Email, \"\");\n  }\n}\n\nfunction CustomerDetailsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"Addresses\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ul\");\n    i0.ɵɵtemplate(6, CustomerDetailsComponent_div_0_li_6_Template, 2, 3, \"li\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h3\");\n    i0.ɵɵtext(8, \"Contacts\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"ul\");\n    i0.ɵɵtemplate(10, CustomerDetailsComponent_div_0_li_10_Template, 2, 2, \"li\", 1);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.customer.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.addresses);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.contacts);\n  }\n}\n\nexport class CustomerDetailsComponent {\n  constructor(http, route) {\n    this.http = http;\n    this.route = route;\n    this.addresses = [];\n    this.contacts = [];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const id = _this.route.snapshot.paramMap.get('id');\n\n      const baseUrl = \"https://localhost:7245/Customers/fullinfo/\";\n      yield _this.http.get(baseUrl + id).subscribe(data => {\n        if (Object.keys(data).includes('customer')) {\n          _this.customer = data.customer;\n        }\n\n        if (Object.keys(data).includes('addresses')) {\n          _this.addresses = data.addresses;\n        }\n\n        if (Object.keys(data).includes('contacts')) {\n          _this.contacts = data.contacts;\n        }\n      });\n    })();\n  }\n\n}\n\nCustomerDetailsComponent.ɵfac = function CustomerDetailsComponent_Factory(t) {\n  return new (t || CustomerDetailsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nCustomerDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CustomerDetailsComponent,\n  selectors: [[\"app-customer-detail\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function CustomerDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CustomerDetailsComponent_div_0_Template, 11, 3, \"div\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.customer);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;;IAIIA;IAAsCA;IAA6DA;;;;;IAA7DA;IAAAA;;;;;;IAItCA;IAAqCA;IAAwCA;;;;;IAAxCA;IAAAA;;;;;;IARzCA,4BAAsB,CAAtB,EAAsB,IAAtB;IACMA;IAAmBA;IACvBA;IAAIA;IAASA;IACbA;IACEA;IACFA;IACAA;IAAIA;IAAQA;IACZA;IACEA;IACFA;;;;;IARIA;IAAAA;IAGsBA;IAAAA;IAIAA;IAAAA;;;;ACD5B,OAAM,MAAOC,wBAAP,CAA+B;EAOnCC,YAAoBC,IAApB,EAA8CC,KAA9C,EAAmE;IAA/C;IAA0B;IAL9C,iBAAmB,EAAnB;IACA,gBAAkB,EAAlB;EAIwE;;EAElEC,QAAQ;IAAA;;IAAA;MACZ,MAAMC,EAAE,GAAG,KAAI,CAACF,KAAL,CAAWG,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,CAAiC,IAAjC,CAAX;;MACA,MAAMC,OAAO,GAAG,4CAAhB;MACA,MAAM,KAAI,CAACP,IAAL,CAAUM,GAAV,CAAcC,OAAO,GAAGJ,EAAxB,EACHK,SADG,CACQC,IAAD,IAAc;QACvB,IAAIC,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkBG,QAAlB,CAA2B,UAA3B,CAAJ,EAA4C;UAC1C,KAAI,CAACC,QAAL,GAAgBJ,IAAI,CAACI,QAArB;QACD;;QACD,IAAIH,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkBG,QAAlB,CAA2B,WAA3B,CAAJ,EAA6C;UAC3C,KAAI,CAACE,SAAL,GAAiBL,IAAI,CAACK,SAAtB;QACD;;QACD,IAAIJ,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkBG,QAAlB,CAA2B,UAA3B,CAAJ,EAA4C;UAC1C,KAAI,CAACG,QAAL,GAAgBN,IAAI,CAACM,QAArB;QACD;MACF,CAXG,CAAN;IAHY;EAeb;;AAxBkC;;;mBAAxBjB,0BAAwBD;AAAA;;;QAAxBC;EAAwBkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDPrCvB;;;;MAAMA","names":["i0","CustomerDetailsComponent","constructor","http","route","ngOnInit","id","snapshot","paramMap","get","baseUrl","subscribe","data","Object","keys","includes","customer","addresses","contacts","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Stoleron\\source\\repos\\SYSMCLTDR\\SYSMCLTDR\\ClientApp\\src\\app\\customer-details\\customer-details.component.html","C:\\Users\\Stoleron\\source\\repos\\SYSMCLTDR\\SYSMCLTDR\\ClientApp\\src\\app\\customer-details\\customer-details.component.ts"],"sourcesContent":["<div *ngIf=\"customer\">\r\n  <h2>{{ customer.name }}</h2>\r\n  <h3>Addresses</h3>\r\n  <ul>\r\n    <li *ngFor=\"let address of addresses\">{{ address.Street }} {{ address.City }} {{ address.Zipcode }}</li>\r\n  </ul>\r\n  <h3>Contacts</h3>\r\n  <ul>\r\n    <li *ngFor=\"let contact of contacts\">{{ contact.Name }} - {{ contact.Email }}</li>\r\n  </ul>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { ActivatedRoute } from '@angular/router';\n@Component({\n  selector: 'app-customer-detail',\n  templateUrl: './customer-details.component.html'\n})\nexport class CustomerDetailsComponent implements OnInit {\n  customer: any;\n  addresses: any[] = [];\n  contacts: any[] = [];\n\n\n\n  constructor(private http: HttpClient, private route: ActivatedRoute) { }\n\n  async ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n    const baseUrl = \"https://localhost:7245/Customers/fullinfo/\";\n    await this.http.get(baseUrl + id)\n      .subscribe((data: any )=> {\n        if (Object.keys(data).includes('customer')) {\n          this.customer = data.customer;\n        }\n        if (Object.keys(data).includes('addresses')) {\n          this.addresses = data.addresses;\n        }\n        if (Object.keys(data).includes('contacts')) {\n          this.contacts = data.contacts;\n        } \n      });\n  }\n\n  //ngOnInit() {\n  //  const id = this.route.snapshot.paramMap.get('id');\n  //  this.http.get(`api/customer/${id}`)\n  //    .subscribe(data => {\n  //      if (Object.keys(data).includes('customer') && Object.keys(data).includes('addresses') && Object.keys(data).includes('contacts')) {\n  //        this.customer = data.customer;\n  //        this.addresses = data.addresses;\n  //        this.contacts = data.contacts;\n  //      } else {\n  //        console.log('data structure is not as expected')\n  //      }\n  //    });\n  //}\n\n\n}\n"]},"metadata":{},"sourceType":"module"}