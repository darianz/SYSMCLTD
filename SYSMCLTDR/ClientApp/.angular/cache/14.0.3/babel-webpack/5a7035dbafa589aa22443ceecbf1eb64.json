{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Stoleron/source/repos/SYSMCLTDR/SYSMCLTDR/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CustomerDetailsComponent = class CustomerDetailsComponent {\n  constructor(http, route) {\n    this.http = http;\n    this.route = route;\n    this.addresses = [];\n    this.contacts = [];\n    this.hasAddresses = false;\n    this.hasContacts = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const id = _this.route.snapshot.paramMap.get('id');\n\n      const baseUrl = \"https://localhost:7245/Customers/fullinfo/\";\n      yield _this.http.get(baseUrl + id).subscribe(data => {\n        if (Object.keys(data).includes('customer')) {\n          _this.customer = data.customer;\n        }\n\n        if (Object.keys(data).includes('addresses')) {\n          _this.addresses = data.addresses;\n          if (data.addresses.length > 0) _this.hasAddresses = true;\n        }\n\n        if (Object.keys(data).includes('contacts')) {\n          _this.contacts = data.contacts;\n          if (data.contacts.length > 0) _this.hasContacts = true;\n        }\n      });\n    })();\n  }\n\n};\nCustomerDetailsComponent = __decorate([Component({\n  selector: 'app-customer-detail',\n  templateUrl: './customer-details.component.html'\n})], CustomerDetailsComponent);\nexport { CustomerDetailsComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAAkC,eAAlC;AAOA,IAAaC,wBAAwB,GAArC,MAAaA,wBAAb,CAAqC;EAQnCC,YAAoBC,IAApB,EAA8CC,KAA9C,EAAmE;IAA/C;IAA0B;IAN9C,iBAAmB,EAAnB;IACA,gBAAkB,EAAlB;IACA,oBAAe,KAAf;IACA,mBAAc,KAAd;EAGwE;;EAElEC,QAAQ;IAAA;;IAAA;MACZ,MAAMC,EAAE,GAAG,KAAI,CAACF,KAAL,CAAWG,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,CAAiC,IAAjC,CAAX;;MACA,MAAMC,OAAO,GAAG,4CAAhB;MACA,MAAM,KAAI,CAACP,IAAL,CAAUM,GAAV,CAAcC,OAAO,GAAGJ,EAAxB,EACHK,SADG,CACQC,IAAD,IAAc;QACvB,IAAIC,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkBG,QAAlB,CAA2B,UAA3B,CAAJ,EAA4C;UAC1C,KAAI,CAACC,QAAL,GAAgBJ,IAAI,CAACI,QAArB;QACD;;QACD,IAAIH,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkBG,QAAlB,CAA2B,WAA3B,CAAJ,EAA6C;UAC3C,KAAI,CAACE,SAAL,GAAiBL,IAAI,CAACK,SAAtB;UACA,IAAIL,IAAI,CAACK,SAAL,CAAeC,MAAf,GAAwB,CAA5B,EAA+B,KAAI,CAACC,YAAL,GAAoB,IAApB;QAChC;;QACD,IAAIN,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkBG,QAAlB,CAA2B,UAA3B,CAAJ,EAA4C;UAC1C,KAAI,CAACK,QAAL,GAAgBR,IAAI,CAACQ,QAArB;UACA,IAAIR,IAAI,CAACQ,QAAL,CAAcF,MAAd,GAAuB,CAA3B,EAA8B,KAAI,CAACG,WAAL,GAAmB,IAAnB;QAC/B;MACF,CAbG,CAAN;IAHY;EAiBb;;AA3BkC,CAArC;AAAapB,wBAAwB,eAJpCD,SAAS,CAAC;EACTsB,QAAQ,EAAE,qBADD;EAETC,WAAW,EAAE;AAFJ,CAAD,CAI2B,GAAxBtB,wBAAwB,CAAxB;SAAAA","names":["Component","CustomerDetailsComponent","constructor","http","route","ngOnInit","id","snapshot","paramMap","get","baseUrl","subscribe","data","Object","keys","includes","customer","addresses","length","hasAddresses","contacts","hasContacts","selector","templateUrl"],"sourceRoot":"","sources":["C:\\Users\\Stoleron\\source\\repos\\SYSMCLTDR\\SYSMCLTDR\\ClientApp\\src\\app\\customer-details\\customer-details.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { ActivatedRoute } from '@angular/router';\n@Component({\n  selector: 'app-customer-detail',\n  templateUrl: './customer-details.component.html'\n})\nexport class CustomerDetailsComponent implements OnInit {\n  customer: any;\n  addresses: any[] = [];\n  contacts: any[] = [];\n  hasAddresses = false;\n  hasContacts = false;\n\n\n  constructor(private http: HttpClient, private route: ActivatedRoute) { }\n\n  async ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n    const baseUrl = \"https://localhost:7245/Customers/fullinfo/\";\n    await this.http.get(baseUrl + id)\n      .subscribe((data: any )=> {\n        if (Object.keys(data).includes('customer')) {\n          this.customer = data.customer;\n        }\n        if (Object.keys(data).includes('addresses')) {\n          this.addresses = data.addresses;\n          if (data.addresses.length > 0) this.hasAddresses = true;\n        }\n        if (Object.keys(data).includes('contacts')) {\n          this.contacts = data.contacts;\n          if (data.contacts.length > 0) this.hasContacts = true;\n        } \n      });\n  }\n\n \n\n\n}\n"]},"metadata":{},"sourceType":"module"}